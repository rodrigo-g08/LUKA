<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Metas de Ahorro</title>
    <link rel="stylesheet" href="css/Ahorrostyle.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <div class="nav-bg">
        <nav class="navegacion-principal">
            <a href="mibalance.html"> <img src="img/Logo.png" id="Logo"> </a>
            <a href="miBalance.html" class="opciones activo">Mi Balance</a>
            <a href="#" class="opciones">Categorias</a>
            <a href="resumenFinanciero.html" class="opciones">Resumen Financiero</a>
            <a href="#" class="opciones">Invitar Pareja</a>
            <a href="notificaciones.html"><img src="img/Notificacion.png" id="NotificacionesImg"></a>
            <a href="#"><img src="img/Moneda.png" id="MonedaImg"></a>
        </nav>
    </div>
    
    <div id="mensajeConfirmacionpago" style="display:none;" class="overlay">
    <div class="mensaje">
        âœ… Pago fijo se ha registrado correctamente
    </div>
    </div>

    <div id="mensajeConfirmacionrecordatorio" style="display:none;" class="overlay">
    <div class="mensaje">
        âœ… Recordatorio activado correctamente.
    </div>
    </div>

    <div id="mensajeConfirmacionlimite" style="display:none;" class="overlay">
    <div class="mensaje">
        âœ… Limite de gasto registrado correctamente.
    </div>
    </div>

    <div id="mensajeConfirmacionmeta" class="overlay" style="display: none;">
        <div class="mensaje">âœ… Â¡Meta aÃ±adida con Ã©xito!</div>
    </div>

    <div id="mensajeConfirmacioningreso" class="overlay" style="display: none;">
        <div class="mensaje">ðŸ’° Â¡Ingreso registrado correctamente!</div>
    </div>


    <main class="main">
        <header>
            <div class="header-bar">
                <h1 class="titulo">Metas de Ahorro</h1>
                <a href="mibalance.html" class="cerrar">âœ•</a>
            </div>
        </header>

        <div class="contenedor-principal">
            <div class="contenedor-metas">
                <div class="meta">
                    <img src="img/Auto.png" alt="Auto">
                    <h2>Auto</h2>
                    <p class="monto">S/. 8250.00 / S/. 20000.00</p>
                    <div class="barra">
                        <div class="relleno" style="width: 41.25%"></div>
                    </div>
                    <div class="registros">
                        <p>S/.2000.00 - 24/4/25</p>
                        <p>S/.5000.00 - 12/12/24</p>
                        <p>S/.1250.00 - 31/11/24</p>
                    </div>
                    <a href="registrarIngreso.html"><button class="agregar">AÃ±adir Ingreso</button></a>
                </div>

                <div class="meta">
                    <img src="img/Viaje.png" alt="Viaje Cancun">
                    <h2>Viaje Cancun</h2>
                    <p class="monto">S/. 332.50 / S/. 1200.00</p>
                    <div class="barra">
                        <div class="relleno" style="width: 27.7%"></div>
                    </div>
                    <div class="registros">
                        <p>S/.200.00 - 24/4/25</p>
                        <p>S/.80.00 - 14/12/24</p>
                        <p>S/.52.50 - 31/11/24</p>
                    </div>
                    <a href="registrarIngreso.html"><button class="agregar">AÃ±adir Ingreso</button></a>
                </div>
            </div>
            <div class="contenedor-anadir">
                <a href="agregarMeta.html"><button class="anadir-meta">Agregar nueva meta</button></a>
            </div>
        </div>
    </main>

    <script>
window.onload = function () {
    const urlParams = new URLSearchParams(window.location.search);
    const main = document.querySelector('.main');

    // Verificar confirmaciÃ³n de pago
    if (urlParams.get('confirmacionpago') === 'ok') {
        const overlay = document.getElementById('mensajeConfirmacionpago');
        overlay.style.display = 'flex';
        main.style.filter = 'blur(4px)';
        setTimeout(() => {
            overlay.style.display = 'none';
            main.style.filter = 'none';
            history.replaceState({}, document.title, window.location.pathname);
        }, 2000);
    }

    // Verificar recordatorio
    if (urlParams.get('recordatorio') === 'ok') {
        const overlay = document.getElementById('mensajeConfirmacionrecordatorio');
        overlay.style.display = 'flex';
        main.style.filter = 'blur(4px)';
        setTimeout(() => {
            overlay.style.display = 'none';
            main.style.filter = 'none';
            history.replaceState({}, document.title, window.location.pathname);
        }, 2000);
    }

    // Verificar lÃ­mite de gasto
    if (urlParams.get('confirmacionlimite') === 'ok') {
        const overlay = document.getElementById('mensajeConfirmacionlimite');
        overlay.style.display = 'flex';
        main.style.filter = 'blur(4px)';
        setTimeout(() => {
            overlay.style.display = 'none';
            main.style.filter = 'none';
            history.replaceState({}, document.title, window.location.pathname);
        }, 2000);
    }

    // Verificar confirmaciÃ³n de meta
    if (urlParams.get('confirmacionmeta') === 'ok') {
        const overlay = document.getElementById('mensajeConfirmacionmeta');
        overlay.style.display = 'flex';
        main.style.filter = 'blur(4px)';
        setTimeout(() => {
            overlay.style.display = 'none';
            main.style.filter = 'none';
            history.replaceState({}, document.title, window.location.pathname);
        }, 2000);
    }

    // Verificar confirmaciÃ³n de ingreso
    if (urlParams.get('confirmacioningreso') === 'ok') {
        const overlay = document.getElementById('mensajeConfirmacioningreso');
        overlay.style.display = 'flex';
        main.style.filter = 'blur(4px)';
        setTimeout(() => {
            overlay.style.display = 'none';
            main.style.filter = 'none';
            history.replaceState({}, document.title, window.location.pathname);
        }, 2000);
    }
};
</script>
</body>

</html>